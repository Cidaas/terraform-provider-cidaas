---
page_title: "cidaas_custom_provider Resource - cidaas"
subcategory: ""
description: |-
  This example demonstrates the configuration of a custom provider resource for interacting with Cidaas.
  Ensure that the below scopes are assigned to the client with the specified client_id:
  cidaas:providers_readcidaas:providers_write
---

# cidaas_custom_provider (Resource)

This example demonstrates the configuration of a custom provider resource for interacting with Cidaas.

 Ensure that the below scopes are assigned to the client with the specified `client_id`:
- cidaas:providers_read
- cidaas:providers_write


### V2 to V3 Migration:
If you are migrating from v2 to v3, please note the following changes in the v3 version:

- The attribute `scopes` now has to be set as an array of objects instead of separate separate object
- `custom_fields` in userinfo_fields should be passed as object as shown in the Example Usage section

## Old configuration

```terraform
resource "cidaas_custom_provider" "sample" {
  ...
  scopes {
    recommended = true
    required    = true
    scope_name  = "email"
  }
  scopes {
    recommended = true
    required    = true
    scope_name  = "openid"
  }
  userinfo_fields = {
    custom_fields = [
      {
        key   = "zipcode"
        value = "123456"
      },
      {
        key   = "alternate_phone"
        value = "1234567890"
      }
    ]
  }
}
```


## Example Usage(V3 configuration)

```terraform
resource "cidaas_custom_provider" "sample" {
  standard_type          = "OAUTH2"
  authorization_endpoint = "https://cidaas.de/authz-srv/authz"
  token_endpoint         = "https://cidaas.de/token-srv/token"
  provider_name          = "terraform-sample"
  display_name           = "Terraform"
  logo_url               = "https://cidaas.de/logo"
  userinfo_endpoint      = "https://cidaas.de/users-srv/userinfo"
  scope_display_label    = "terraform sample scope display name"
  client_id              = "acb-4a6b-9777-8a64abe6af"
  client_secret          = "zcb-4a6b-9777-8a64abe6ay"
  domains                = ["cidaas.de", "cidaas.org"]

  scopes = [
    {
      recommended = true
      required    = true
      scope_name  = "email"
    },
    {
      recommended = true
      required    = true
      scope_name  = "openid"
    },
  ]

  userinfo_fields = {
    family_name        = "cp_family_name"
    address            = "cp_address"
    birthdate          = "01-01-2000"
    email              = "cp@cidaas.de"
    email_verified     = "true"
    gender             = "male"
    given_name         = "cp_given_name"
    locale             = "cp_locale"
    middle_name        = "cp_middle_name"
    mobile_number      = "100000000"
    phone_number       = "10000000"
    picture            = "https://cidaas.de/image.jpg"
    preferred_username = "cp_preferred_username"
    profile            = "cp_profile"
    updated_at         = "01-01-01"
    website            = "https://cidaas.de"
    zoneinfo           = "cp_zone_info"
    custom_fields = {
      zipcode         = "123456"
      alternate_phone = "1234567890"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `authorization_endpoint` (String) The URL for authorization of the provider.
- `client_id` (String) The client ID of the provider.
- `client_secret` (String, Sensitive) The client secret of the provider.
- `display_name` (String) The display name of the provider.
- `provider_name` (String) The unique identifier of the custom provider. This cannot be updated for an existing state.
- `scope_display_label` (String) Display label for the scope of the provider.
- `token_endpoint` (String) The URL to generate token with this provider.
- `userinfo_endpoint` (String) The URL to fetch user details using this provider.

### Optional

- `domains` (Set of String) The domains of the provider.
- `logo_url` (String) The URL for the provider's logo.
- `scopes` (Attributes List) List of scopes of the provider with details (see [below for nested schema](#nestedatt--scopes))
- `standard_type` (String) Type of standard. Allowed values `OAUTH2` and `OPENID_CONNECT`.
- `userinfo_fields` (Attributes) Object containing various user information fields with their values. The userinfo_fields section includes specific fields such as name, family_name, address, etc., along with custom_fields allowing additional user information customization (see [below for nested schema](#nestedatt--userinfo_fields))

### Read-Only

- `id` (String) The ID of the resource.

<a id="nestedatt--scopes"></a>
### Nested Schema for `scopes`

Optional:

- `recommended` (Boolean) Indicates if the scope is recommended.
- `required` (Boolean) Indicates if the scope is required.
- `scope_name` (String) The name of the scope, e.g., `openid`, `profile`.


<a id="nestedatt--userinfo_fields"></a>
### Nested Schema for `userinfo_fields`

Optional:

- `address` (String)
- `birthdate` (String)
- `custom_fields` (Map of String)
- `email` (String)
- `email_verified` (String)
- `family_name` (String)
- `gender` (String)
- `given_name` (String)
- `locale` (String)
- `middle_name` (String)
- `mobile_number` (String)
- `name` (String)
- `nickname` (String)
- `phone_number` (String)
- `picture` (String)
- `preferred_username` (String)
- `profile` (String)
- `updated_at` (String)
- `website` (String)
- `zoneinfo` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import cidaas_custom_provider.resource_name provider_name
```